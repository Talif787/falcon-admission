(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3],{6762:function(e,s,t){Promise.resolve().then(t.bind(t,5632))},5632:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return d}});var a=t(7437),l=t(2265),n=t(5048),c=t(3739),r=t(9064);let i=e=>e instanceof Error?e.message:"string"==typeof e?e:"Unexpected error";function o(){let e=(0,l.useMemo)(()=>"http://localhost:5000".replace(/\/$/,""),[]),[s,t]=(0,l.useState)([]),[o,d]=(0,l.useState)(!0),u=(0,l.useCallback)(async()=>{try{var s,a;console.log("Loading applicants..."),d(!0);let l=await fetch("".concat(e,"/api/admin/applicants"),{method:"GET",headers:{"Content-Type":"application/json"}}),n=null;try{n=await l.json()}catch(e){n=null}if(!l.ok){let e=(null==n?void 0:n.message)||"Failed to load applicants (HTTP ".concat(l.status,")");console.error("Applicants fetch failed:",e),r.ZP.error(e),t([]);return}let c=null!==(a=null==n?void 0:null===(s=n.data)||void 0===s?void 0:s.applicants)&&void 0!==a?a:[];console.log("Applicants:",c),t(c)}catch(e){console.error("Error:",e),r.ZP.error(i(e)||"Failed to load"),t([])}finally{d(!1)}},[e]),h=(0,l.useCallback)(async s=>{if(confirm("Delete this applicant?"))try{let t=await fetch("".concat(e,"/api/admin/applicants/").concat(encodeURIComponent(s)),{method:"DELETE"}),a=null;try{a=await t.json()}catch(e){a=null}if(!t.ok||(null==a?void 0:a.success)===!1){let e=(null==a?void 0:a.message)||"Delete failed (HTTP ".concat(t.status,")");r.ZP.error(e);return}r.ZP.success("Deleted"),await u()}catch(e){r.ZP.error(i(e)||"Delete failed")}},[e,u]),x=(0,l.useCallback)(e=>{(0,r.ZP)("Session: ".concat(e),{duration:4e3})},[]);return(0,l.useEffect)(()=>{u()},[u]),console.log("RENDER - Applicants:",s,"Count:",s.length),(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50 p-8",children:[(0,a.jsx)(r.x7,{}),(0,a.jsx)("h1",{className:"text-3xl font-bold mb-8",children:"Admin Dashboard (Simple Test)"}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,a.jsx)("h2",{className:"text-xl font-bold",children:"Applicants"}),(0,a.jsx)("button",{onClick:u,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Refresh"})]}),(0,a.jsxs)("div",{className:"mb-4 p-3 bg-yellow-100 rounded",children:[(0,a.jsx)("p",{className:"text-sm",children:(0,a.jsx)("strong",{children:"Debug Info:"})}),(0,a.jsxs)("p",{className:"text-sm",children:["API Base: ",e]}),(0,a.jsxs)("p",{className:"text-sm",children:["Loading: ",o?"YES":"NO"]}),(0,a.jsxs)("p",{className:"text-sm",children:["Count: ",s.length]}),(0,a.jsxs)("p",{className:"text-sm",children:["Type: ",typeof s]}),(0,a.jsxs)("p",{className:"text-sm",children:["Is Array: ",Array.isArray(s)?"YES":"NO"]})]}),o?(0,a.jsx)("div",{className:"text-center py-8",children:"Loading..."}):0===s.length?(0,a.jsx)("div",{className:"text-center py-8 text-gray-500",children:"No applicants found"}):(0,a.jsx)("div",{className:"space-y-2",children:s.map(e=>(0,a.jsx)("div",{className:"border rounded p-4 hover:bg-gray-50",children:(0,a.jsxs)("div",{className:"flex justify-between items-start",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("div",{className:"font-bold text-lg",children:e.studentName}),(0,a.jsxs)("div",{className:"text-sm text-gray-600",children:[e.program," â€¢ ",e.outcome]}),(0,a.jsx)("div",{className:"text-sm text-gray-500 mt-1",children:e.ruleSummary}),"number"==typeof e.gpa&&(0,a.jsxs)("div",{className:"text-sm text-gray-600 mt-1",children:["GPA: ",e.gpa]})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("button",{onClick:()=>x(e.sessionId),className:"p-2 hover:bg-gray-200 rounded",title:"View Details",children:(0,a.jsx)(n.Z,{className:"w-5 h-5 text-blue-600"})}),(0,a.jsx)("button",{onClick:()=>h(e.sessionId),className:"p-2 hover:bg-gray-200 rounded",title:"Delete",children:(0,a.jsx)(c.Z,{className:"w-5 h-5 text-red-600"})})]})]})},e._id))})]}),(0,a.jsx)("div",{className:"mt-4 bg-blue-50 border border-blue-200 rounded p-4",children:(0,a.jsxs)("p",{className:"text-sm text-blue-900",children:[(0,a.jsx)("strong",{children:"Note:"})," This is a simplified production-safe test version. It uses ",(0,a.jsx)("code",{children:"NEXT_PUBLIC_API_URL"})," and falls back to localhost only for local dev."]})})]})}function d(){return(0,a.jsxs)("main",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100",children:[(0,a.jsx)(r.x7,{position:"top-right"}),(0,a.jsx)(o,{})]})}},5048:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(8301).Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},3739:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(8301).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])}},function(e){e.O(0,[439,971,117,744],function(){return e(e.s=6762)}),_N_E=e.O()}]);